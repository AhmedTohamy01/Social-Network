<% provide(:title, 'Friend Requests') %>
<h1>Friend Requests</h1>
<section class="users-section">
  <% if @friend_requests.any? %>
    <ul class="users-list">
      <% @friend_requests.each do |friend| %>
        <li class="friend-response">
          <div>
            <%= gravatar_for friend, size: 50 %>
            <%= link_to friend.name, friend %>
          </div>
          <div class="friends-button-wrap">
            <div>
              <%= form_with(model: current_user.inverse_friendships.find_by(user_id: friend.id), local: true) do |f| %>
                <%= f.submit "Confirm", class: "btn btn-primary btn-sm friend-button confirm" %>
              <% end %>
            </div>
            <div>
              <%= form_with(model: current_user.inverse_friendships.find_by(user_id: friend.id), html: { method: :delete }, local: true) do |f| %>
                <%= f.submit "Delete", class: "btn btn-secondary btn-sm friend-button delete" %>
              <% end %>
            </div>
          </div>
        </li>
      <% end %>
    </ul>
    <%= will_paginate @friend_requests %>
  <% end %>
</section>
